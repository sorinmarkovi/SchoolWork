/*
 * 1. Gather requirements
 * 2. Describe the application
 * 3. Identify the main objects
 * 4. Describe interactions
 * 5. Create a class diagram
 */
import java.util.Scanner;
public class RPS {
private static Scanner userInput;
public static void main(String[] args) {
		startGame();
}
private static Object ComputerRPS(int Number) 
{
	int computer = Number;
	String rpsComputer = "";	
	switch (computer) 
	{
	case 0:
		  rpsComputer = "scissor";
		  break;
	case 1:
		  rpsComputer = "rock";
		  break;
	case 2:
		  rpsComputer = "paper";
		  break;
	}
	return rpsComputer;
}	
private static Object UserGuess(int guess)
{
	String rpsGuess = "";
	  switch (guess) 
	  {
	  case 0:
		  rpsGuess = "scissor";
		  break;
	  case 1:
		  rpsGuess = "rock";
		  break;
	  case 2:
		  rpsGuess = "paper";
		  break;
	  default:
		  //TODO if the guess is an invalid number, get user input again? 
	   System.out.print("Invalid input.");
	   System.exit(0);
	  }
	return rpsGuess;
}
private static void gameMaker()
{
	//declare variables
	boolean continueInput = true;
	boolean falseInput = true;
	int computer = (int) Math.floor(Math.random() * 3); 
	userInput = new Scanner(System.in);
	Object rpsComputer = ComputerRPS(computer);
	int guess;	
do{
	try {		
		  System.out.print("scissor (0), rock (1), paper (2):");
		  guess = userInput.nextInt();
		  do
		  { 
		  if(guess >2 || guess <0)
		  {
			  System.out.println("Wrong input. Please enter a correct number:");
			  guess = userInput.nextInt();
		  }
		  else 
		  {
			  falseInput = false;
		  }
		  }
		  while (falseInput);
		  Object rpsGuess = UserGuess(guess);
		  System.out.print("The computer is " + rpsComputer + ". You are " + rpsGuess);		  
		  //check the result of the game
		  
		  if (computer == guess) 
		  {
		   System.out.print(" too. It is a draw. ");
		  } 
		  else if (computer - guess == 1 || computer - guess == -2) 
		  {
		   System.out.print(". Computer won. ");
		  } 
		  else if (computer - guess == -1 || computer - guess == 2) 
		  {
		   System.out.print(". You won. ");
		  }		  
		  
		  continueInput = false;
		}
	catch (Exception e)
		{
			System.out.println("Try again. (" +  "Incorrect input: an integer is required)");          
			userInput.nextLine(); // Discard input 
		}
}
while (continueInput == true);
}
private static void startGame()
{
	Scanner scan = new Scanner(System.in);
	int replay = 0;
	boolean continueInput = true;
	do
	{
	//call the game.
		gameMaker();
	do{
		try {		
			System.out.println("Type 0 to play again. Type 1 to quit.");
		    replay = scan.nextInt();
		    
			}
		catch (Exception e)
			{
				System.out.println("Try again. (" +  "Incorrect input: an integer is required)");          
				scan.nextLine(); 
			}
		continueInput = false;
	}
	while (continueInput == true);
	
	}while (replay == 0);
	
	scan.close();	
}
}